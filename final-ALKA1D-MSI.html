<!DOCTYPE html> 
<html lang="en"> 
    <head> 
        <meta charset="utf-8"> 
        <meta name="viewport" content="width=device-width, maximum-scale=1.0" />

        <title>Final Project</title> 

        <link href="style/style.css" media="screen" rel="stylesheet" type="text/css" />

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Forum&family=Josefin+Sans:ital,wght@0,100;0,400;1,100;1,400&family=Raleway:ital,wght@0,600;1,600&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.7.0/build/styles/default.min.css">
        <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.7.0/build/highlight.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
        <script src="script/index.js"></script>
        <script src="script/lightbox.js"></script>
    </head> 
    <body> 
        <nav>
            <h4 class="top-title">HCDE 439</h4>
            <div class="nav-list">
                <a class="nav-items" href="index.html">Home</a>                <div class="dropdown">
                    <a href="#">Assignments</a>
                    <div class="dropdown-content">
                        <a class="nav-items" href="assignment1.html">Assignment 1</a>
                        <a class="nav-items" href="assignment2.html">Assignment 2</a>
                        <a class="nav-items" href="assignment3.html">Assignment 3</a>
                        <a class="nav-items" href="assignment4.html">Assignment 4</a>
                        <a class="nav-items" href="assignment5.html">Assignment 5</a>
                        <a class="nav-items" href="assignment6.html">Assignment 6</a>
                    </div>
                </div>
                <a class="nav-items" href="final.html">Final Project</a>
            </div>
        </nav>

        <div class="dark1">
            <h2>Final Project</h2>
            <p>
                My Final Project
            </p>
        </div>

        <div class="content bright1" id="proposal">
            <div class="title">
                <h3>Proposal</h3>
                <div class="subtitle"></div>
            </div>
            <h4>
                Project Concept/Motivation
            </h4>
            <p>
                I would like to make a smart knob that displays and controls my PC's volume.
            </p>

            <h4>
                Anticipated Bill of Materials
            </h4>
            <ul>
                <li>
                    Arduino
                </li>
                <li>
                    LCD display
                </li>
                <li>
                    Buttons
                </li>
                <li>
                    Resistors
                </li>
                <li>
                    Rotary Encoder
                </li>
                <li>
                    Wires
                </li>
                <li>
                    Materials for a housing
                </li>
            </ul>

            <h4>
                Timeline and Contingency Plans
            </h4>
            <ul>
                <li>
                    By March 1, finish the code
                </li>
                <li>
                    By March 3, finish the housing
                </li>
                <li>
                    By March 5, finish the installment
                </li>
                <li>
                    By March 8, finish the documentation
                </li>
                <li>
                    If anything goes wrong, delay it by 2 days max
                </li>
            </ul>
        </div>
         
        <div class="content dark1" id="concept">
            <div class="title">
                <h3>Concept</h3>
                <div class="subtitle"></div>
            </div>
            <p>
                A smart knob is designed to allow PC users to quickly check and adjust their PC's volumn. A rotary encoder is used to detect the user's scrolling actions. It is also equipped with an OLED screen that displays information about the current volume level or multimedia actions. The knob is also designed with a multimedia button that can be used to play, pause, mute, or skip through music or videos.
            </p>
            <p>
                The smart knob is a convenient and efficient way to adjust the volume of your PC without having to use your mouse or keyboard. It provides a tactile and intuitive interface that allows for quick and precise adjustments, making it ideal for both casual users and competitive gamers who need to fully focus on their screens. With its geeky design, the smart knob is a stylish addition to any desk setup.
            </p>

            <h4>
                Actual Bill of Materials
            </h4>
            <table>
                <caption>Bill of Materials</caption>
                <thead>
                    <tr>
                        <th>Amount</th>
                        <th>MN (manufacturer number)</th>
                        <th>MPN (manufacturer part number)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>Arduino Pro Micro</td>
                        <td class="props">type Arduino Pro Micro (Clone); variant type-c</td>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td>Ceramic Capacitor</td>
                        <td class="props">package 100 mil [THT, multilayer]; voltage 10V; capacitance 22pF</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>Ceramic Capacitor</td>
                        <td class="props">package 100 mil [THT, multilayer]; voltage 35V; capacitance 100nF</td>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td>Panasonic EVQ-V5B00215B</td>
                        <td class="props">package THT;</td>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td>Generic female header - 2 pins</td>
                        <td class="props">package THT; pins 2; pin spacing 0.1in (2.54mm); form ♀ (female); hole size 1.0mm,0.508mm; row single</td>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td>OLED 128x64 I2C Monochrome Display</td>
                        <td class="props">variant variant 1</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>5.1k Ohm Resistor</td>
                        <td class="props">package 1206 [SMD]; tolerance ±5%; resistance 5.1k Ohm; power 0.25</td>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td>1k Ohm Resistor</td>
                        <td class="props">package 1206 [SMD]; tolerance ±5%; resistance 1k Ohm; power 0.25</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>10k Ohm Resistor</td>
                        <td class="props">package 1206 [SMD]; tolerance ±5%; resistance 10k Ohm; power 0.25W</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>10k Ohm Resistor</td>
                        <td class="props">package THT; tolerance ±5%; pin spacing 400 mil; resistance 10k Ohm; bands 5; power 0.25</td>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td>Pushbutton</td>
                        <td class="props">switch status Released; package [THT]</td>
                    </tr>
                
                </tbody>
              </table>

            <h4>
                Why Arduino Pro Micro
            </h4>
            <p>
                I chose to use the Arduino pro micro as my microcontroller. The Arduino Pro Micro is a compact and versatile microcontroller board that is ideal for a wide range of projects. Its small size, roughly the size of a standard USB flash drive, makes it easy to integrate into my smart knob project where space is limited. The board features a USB-C port, which allows for fast and reliable data transfer and also provides power to the board. So I don't have to worry about making about USB module in my design.
            </p>
            <p>
                One of the key benefits of the Arduino Pro Micro is its ability to act as a USB HID (Human Interface Device). This means that it can be used to emulate a keyboard, mouse, or another input device, allowing it to control other devices or software applications. This feature makes the board particularly useful for me as I need it to act as a keyboard to send media commands like "volume up", "volume down", "mute", and so on.
            </p>
            <p>
                In addition to its USB HID capabilities, the Arduino Pro Micro also has a wide range of inputs and outputs, including digital and analog pins, PWM outputs, and serial communication ports. This makes it a versatile and adaptable platform that allows me to attach any peripherals to it without worrying about running out of pins.
            </p>
            <p>
                Overall, the Arduino Pro Micro is a powerful and flexible microcontroller board that is ideal for my smart knob project where space is limited and USB HID functionality is required.
            </p>
        </div>

        <div class="content bright1" id="schematic">
            <div class="title">
                <h3>Schematic</h3>
                <div class="subtitle">Treasure Maps</div>
            </div>
            <div class="lightbox-preview">
                <img src="static/Final/Final_schem.png" class="media" onclick='openLightbox("lightbox0");'>
            </div>
            <div class="lightbox-expand" onclick='closeLightbox("lightbox0");' id="lightbox0" style="display: none;">
                <img src="static/Final/Final_schem.png" class="media">
            </div>
            <div class="lightbox-preview">
                <img src="static/Final/Final_bb.svg" class="media" onclick='openLightbox("lightbox1");'>
            </div>
            <div class="lightbox-expand" onclick='closeLightbox("lightbox1");' id="lightbox1" style="display: none;">
                <img src="static/Final/Final_bb.svg" class="media">
            </div>
            <p>
                My schematic is similar to my assignment 4, which also features the Arduino, an OLED screen, a button, and a rotary encoder. However, there are also a couple of differences.  The biggest change is the MCU, which I changed from an Arduino UNO to an Arduino Pro Micro Type-C. Since it’s a different board, the wiring changed. The IIC bus is on pin 2 and pin 3 for the Arduino Pro Micro. They are connected, instead of the A4 and A5 on the UNO, to the OLED screen, along with two 5.1K Ohm pull-up resistors. Another change is that a Panasonic EVQ-V5B00215B hollow rotary encoder replaced the rotary encoder module included in the kit. According to its datasheet, I included 4 * 10k Ohm resistors and 2 * 0.01uF capacitors to allow it to properly function. There's also a 22pF capacitor between the VCC and the GND pin to ease out spikes in currents.
            </p>
            <h4>Better Power Supply</h4>
            <p>
                The IIC bus communicates rapidly with the arduino, if there are noise, sometimes the Arduino behaves weirdly or freezes. To compensate for that, 
                I put a 22pF capacitor between the power rails of the arduino, the capacitors can ease the fluctuation of the power on the breadboard.
            </p>
            <h4>Better I2C Bus Performance</h4>
            <p>
                According to the web, two 4.7k ~ 10k Ohm resistors are required to pull-up the SCK(SCL) and SDA lines in the I2C bus. These resistors can let to better performance and more resistance to noises. I chose two 5.1k Ohm resistors that are available in the kit.  
            </p>
        </div>

        <div class="content dark2" id="circuit">
            <div class="title">
                <h3>Circuit</h3>
                <div class="subtitle">Above the blueprint</div>
            </div>
            <div class="lightbox-preview">
                <img src="static/Final/6073342911031915558_121.jpg" class="media" onclick='openLightbox("lightbox2");'>
            </div>
            <div class="lightbox-expand" onclick='closeLightbox("lightbox2");' id="lightbox2" style="display: none;">
                <img src="static/Final/6073342911031915558_121.jpg" class="media">
            </div>
            <div class="lightbox-preview">
                <img src="static/Final/6073342911031915559_121.jpg" class="media" onclick='openLightbox("lightbox3");'>
            </div>
            <div class="lightbox-expand" onclick='closeLightbox("lightbox3");' id="lightbox3" style="display: none;">
                <img src="static/Final/6073342911031915559_121.jpg" class="media">
            </div>
            <p>
                The above image shows the actual Arduino circuit build on a etched PCB. There are instructions on the top. Protections for the PCB are installed in the bottom.
            </p>
        </div>
        
        <div class="content bright2" id="pcb">
            <div class="title">
                <h3>Making the PCB</h3>
                <div class="subtitle">Engineering Fun</div>
            </div>
            <p>
                To make the project more fun, I decided to home made the PCB from scratch. Some more detailed tutorials:
            </p>
            <ul>
                <li>
                    <a href="https://www.youtube.com/watch?v=7wAer7a3tU4" target="_blank">DIY PCBs At Home (Single Sided Presensitized)</a>
                </li>
                <li>
                    <a href="https://www.youtube.com/watch?v=1bJoTFhJ5CY" target="_blank">How to Make a PCB at Home - DIY Printed Circuit Board</a>
                </li>
                <li>
                    <a href="https://www.youtube.com/watch?v=q6iu8Fe8UOY" target="_blank">How to make a Printed Circuit Board (PCB) at home</a>
                </li>
                <li>
                    <a href="https://www.instructables.com/How-to-make-PCB-at-Home/" target="_blank">How to Make PCB at Home</a>
                </li>
            </ul>
            <p>
                But here's my steps and some tips (a cheaper, more home-approachable version)
            </p>
            <p>
                Materials Used
            </p>
            <ul>
                <li>Single sided copper plate</li>
                <li>Ferric Chloride Copper Etchant Solution</li>
                <li>Hydrogen Peroxide Topical Solution</li>
                <li>Photosensitive film</li>
                <li>Washing soda</li>
                <li>UV light</li>
                <li>Small hand drill</li>
                <li>1000# sand paper</li>
                <li>Materials for the circuit</li>
            </ul>
            <h4>General Steps</h4>
            <ul>
                <li>Design the PCB</li>
                <li>Protect the routes on copper Plate</li>
                <li>Remove the copper</li>
                <li>Remove the protective film</li>
                <li>Prepare for Soldering</li>
            </ul>
            <h5>Design the PCB</h5>
            <p>
                I use fritzing to design the PCB, it is a once free electronic designing app for hobbyists. I've been using it for a few years and it has good compatibility with Arduino parts. I iterated my PCB with several versions and the final one is like this
            </p>
            <div class="lightbox-preview">
                <img src="static/Final/final_etch_copper_bottom.svg" class="media" onclick='openLightbox("lightbox4");'>
            </div>
            <div class="lightbox-expand" onclick='closeLightbox("lightbox4");' id="lightbox4" style="display: none;">
                <img src="static/Final/final_etch_copper_bottom.svg" class="media">
            </div>
            <h6>Print the Design</h6>
            <ul>
                <li>Print it mirrored, so it can cover the copper surface and eventually give out the correct result</li>
                <li>Use high-quality exports, get the highest DPI / resolution possible</li>
                <li>Use high-quality printers and print papers, check it the traces are straight</li>
            </ul>
            <h5>Protect the Routes on the Copper Plate</h5>
            <p>
                There are two ways to do this, toner transfer method and the photosensitive method. Due to my limitations to simple equipment and school printers, I have to choose photosensitive method, which is more complex but has higher resolution.
            </p>
            <h6>Prepare the Copper Plate</h6>
            <ul>
                <li>Sand the copper surface to remove the oxidized layer</li>
                <li>First peel off the plastic film on the photosensitive film. Only peel off one side</li>
                <li>Carefully stick the peeled off side onto the copper surface</li>
                <li>Gently heat the copper surface to make the film stick tightly to it, I use my stove top and heat level 2-4 to achieve that</li>
                <li>Carefully peel off the other protective film</li>
            </ul>
            <h6>Transfer the Routes</h6>
            <ul>
                <li>Spray some oil onto the film</li>
                <li>Carefully cover the printed circuit onto the film, make sure the oil fully covered the surface and the print</li>
                <li>Shine UV light on the surface, test beforehand to determine the best time frame (30 min for my setup)</li>
                <li>Remove the print and wash the board with soapy water</li>
            </ul>
            <h5>
                Remove the Copper
            </h5>
            <ul>
                <li>Add water, some washing soda, and a little bit of hydrogen peroxide into a bowl, put the copper plate into it. Area outside the route should start fading quickly. Shake to facilitate process.</li>
                <li>After all light areas are removed, carefully inspect the route, if any of them is broken, use a permanent marker pen to restore it. The marker has the same function as the protective film.</li>
                <li>Put the plate into ferric chloride solution, shake carefully, the copper should start fading.</li>
                <li>Shake until all the copper outside the routes are dissolved.</li>
            </ul>
            <h5>
                Remove Protective Film
            </h5>
            <ul>
                <li>Use pure hydrogen peroxide solution, put the plate in.</li>
                <li>Darkened routes should dissolve in solution</li>
            </ul>
            <h5>
                Prepare for Soldering
            </h5>
            <ul>
                <li>Sand the routes well, remove the oxidized layer.</li>
                <li>Put rosin around the soldering points, use iron to melt it. Tin should stick to the points.</li>
                <li>Ready for parts now</li>
            </ul>
            <h5>
                Tips
            </h5>
            <ul>  
                <li>Carefully check the printed PCB, is the size all correct? Are traces correctly connected?</li>
                <li>Always use rubber gloves, proceed in well ventilated areas</li>
                <li>Dispose solution with care</li>
                <li>Use high quality solder iron and tin, tip tinner is a great helper</li>
            </ul>
        </div>
        <button onclick="scrollToTop()" id="topBtn" title="Go to top">
            <span class="material-icons">
                arrow_upward
            </span>
        </button>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script>
    </body>
    
</html>